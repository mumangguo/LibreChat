# LibreChat é¡¹ç›®æ–‡ä»¶å¤¹ç»“æ„è¯´æ˜

## ğŸ“ é¡¹ç›®æ ¹ç›®å½•

```
LibreChat/
â”œâ”€â”€ api/              # åç«¯ API æœåŠ¡
â”œâ”€â”€ client/           # å‰ç«¯ React åº”ç”¨
â”œâ”€â”€ packages/         # å…±äº«åŒ…ï¼ˆmonorepo ç»“æ„ï¼‰
â”œâ”€â”€ config/           # é…ç½®è„šæœ¬å’Œå·¥å…·
â”œâ”€â”€ data/             # æ•°æ®æ–‡ä»¶
â”œâ”€â”€ e2e/              # ç«¯åˆ°ç«¯æµ‹è¯•
â”œâ”€â”€ helm/             # Kubernetes Helm å›¾è¡¨
â”œâ”€â”€ redis-config/     # Redis é…ç½®
â”œâ”€â”€ utils/            # å·¥å…·è„šæœ¬
â””â”€â”€ å…¶ä»–é…ç½®æ–‡ä»¶...
```

---

## ğŸ”§ åç«¯ API æ–‡ä»¶å¤¹ç»“æ„ (`api/`)

### `/api/app/` - åº”ç”¨æ ¸å¿ƒå±‚
- **ä½œç”¨**: åŒ…å«åº”ç”¨çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œä¸»è¦æ˜¯å®¢æˆ·ç«¯å®ç°
- **`clients/`** - AI å®¢æˆ·ç«¯å®ç°
  - `BaseClient.js` - åŸºç¡€å®¢æˆ·ç«¯ç±»ï¼Œæ‰€æœ‰ AI å®¢æˆ·ç«¯çš„çˆ¶ç±»
  - `OpenAIClient.js` - OpenAI API å®¢æˆ·ç«¯
  - `AnthropicClient.js` - Anthropic (Claude) API å®¢æˆ·ç«¯
  - `GoogleClient.js` - Google AI å®¢æˆ·ç«¯
  - `OllamaClient.js` - Ollama æœ¬åœ°æ¨¡å‹å®¢æˆ·ç«¯
  - `TextStream.js` - æ–‡æœ¬æµå¤„ç†
  - `document/` - æ–‡æ¡£å¤„ç†ç›¸å…³
  - `llm/` - LLM ç›¸å…³å·¥å…·å‡½æ•°
  - `output_parsers/` - è¾“å‡ºè§£æå™¨ï¼ˆæç¤ºè¯ä¼˜åŒ–ã€é”™è¯¯å¤„ç†ç­‰ï¼‰
  - `prompts/` - æç¤ºè¯æ¨¡æ¿å’Œæ„å»ºå‡½æ•°
  - `tools/` - å·¥å…·é›†æˆï¼ˆä»£ç æ‰§è¡Œã€æ–‡ä»¶æœç´¢ã€ç½‘ç»œæœç´¢ç­‰ï¼‰
  - `specs/` - å®¢æˆ·ç«¯æµ‹è¯•è§„èŒƒ

- **`index.js`** - åº”ç”¨å…¥å£æ–‡ä»¶

### `/api/cache/` - ç¼“å­˜ç®¡ç†
- **ä½œç”¨**: ç¼“å­˜ç›¸å…³çš„å·¥å…·å’Œä¸­é—´ä»¶
- `banViolation.js` - å°ç¦è¿è§„è®°å½•ç¼“å­˜
- `clearPendingReq.js` - æ¸…ç†å¾…å¤„ç†è¯·æ±‚
- `getLogStores.js` - è·å–æ—¥å¿—å­˜å‚¨
- `logViolation.js` - è®°å½•è¿è§„æ—¥å¿—

### `/api/config/` - é…ç½®ç®¡ç†
- **ä½œç”¨**: åº”ç”¨é…ç½®ã€æ—¥å¿—é…ç½®ã€è·¯å¾„é…ç½®ç­‰
- `index.js` - é…ç½®å…¥å£ï¼Œå¯¼å‡º MCPManagerã€FlowStateManager ç­‰
- `meiliLogger.js` - Meilisearch æ—¥å¿—é…ç½®
- `parsers.js` - é…ç½®è§£æå™¨
- `paths.js` - è·¯å¾„é…ç½®
- `winston.js` - Winston æ—¥å¿—é…ç½®

### `/api/db/` - æ•°æ®åº“è¿æ¥
- **ä½œç”¨**: æ•°æ®åº“è¿æ¥å’Œæ¨¡å‹åˆå§‹åŒ–
- `connect.js` - æ•°æ®åº“è¿æ¥
- `index.js` - æ•°æ®åº“å…¥å£
- `indexSync.js` - åŒæ­¥æ•°æ®åº“ç´¢å¼•
- `models.js` - æ•°æ®åº“æ¨¡å‹å¯¼å‡º

### `/api/lib/` - åº“å·¥å…·
- **ä½œç”¨**: å†…éƒ¨åº“å’Œå·¥å…·å‡½æ•°
- `utils/` - å·¥å…·å‡½æ•°ï¼ˆåˆå¹¶æ’åºã€æ‚é¡¹å·¥å…·ç­‰ï¼‰

### `/api/logs/` - æ—¥å¿—æ–‡ä»¶
- **ä½œç”¨**: åº”ç”¨è¿è¡Œæ—¶æ—¥å¿—å­˜å‚¨ç›®å½•
- åŒ…å« debugã€errorã€meiliSync ç­‰æ—¥å¿—æ–‡ä»¶

### `/api/models/` - æ•°æ®æ¨¡å‹
- **ä½œç”¨**: Mongoose æ•°æ®æ¨¡å‹å®šä¹‰
- `Agent.js` - æ™ºèƒ½ä½“æ¨¡å‹
- `Assistant.js` - åŠ©æ‰‹æ¨¡å‹
- `Conversation.js` - å¯¹è¯æ¨¡å‹
- `Message.js` - æ¶ˆæ¯æ¨¡å‹
- `File.js` - æ–‡ä»¶æ¨¡å‹
- `User.js` (é€šè¿‡ `userMethods.js`) - ç”¨æˆ·æ¨¡å‹
- `Prompt.js` - æç¤ºè¯æ¨¡å‹
- `Transaction.js` - äº¤æ˜“æ¨¡å‹
- `Role.js` - è§’è‰²æ¨¡å‹
- `Banner.js` - æ¨ªå¹…æ¨¡å‹
- `Project.js` - é¡¹ç›®æ¨¡å‹
- `ToolCall.js` - å·¥å…·è°ƒç”¨æ¨¡å‹
- `Action.js` - åŠ¨ä½œæ¨¡å‹
- `Categories.js` - åˆ†ç±»æ¨¡å‹
- `ConversationTag.js` - å¯¹è¯æ ‡ç­¾æ¨¡å‹
- `balanceMethods.js` - ä½™é¢ç›¸å…³æ–¹æ³•
- `spendTokens.js` - Token æ¶ˆè´¹æ–¹æ³•
- `tx.js` - äº¤æ˜“ç›¸å…³æ–¹æ³•

### `/api/server/` - æœåŠ¡å™¨å±‚
- **ä½œç”¨**: Express æœåŠ¡å™¨ã€è·¯ç”±ã€æ§åˆ¶å™¨ã€ä¸­é—´ä»¶ã€æœåŠ¡

#### `/api/server/controllers/` - æ§åˆ¶å™¨
- **ä½œç”¨**: å¤„ç† HTTP è¯·æ±‚çš„ä¸šåŠ¡é€»è¾‘
- `agents/` - æ™ºèƒ½ä½“ç›¸å…³æ§åˆ¶å™¨
  - `request.js` - æ™ºèƒ½ä½“è¯·æ±‚å¤„ç†
  - `client.js` - æ™ºèƒ½ä½“å®¢æˆ·ç«¯
  - `callbacks.js` - æ™ºèƒ½ä½“å›è°ƒå¤„ç†
  - `v1.js` - æ™ºèƒ½ä½“ v1 API
  - `errors.js` - é”™è¯¯å¤„ç†
- `assistants/` - åŠ©æ‰‹ç›¸å…³æ§åˆ¶å™¨
  - `chatV1.js` - åŠ©æ‰‹èŠå¤© v1
  - `chatV2.js` - åŠ©æ‰‹èŠå¤© v2
  - `v1.js` - åŠ©æ‰‹ v1 API
  - `v2.js` - åŠ©æ‰‹ v2 API
  - `helpers.js` - åŠ©æ‰‹è¾…åŠ©å‡½æ•°
  - `errors.js` - é”™è¯¯å¤„ç†
- `auth/` - è®¤è¯ç›¸å…³æ§åˆ¶å™¨
  - `LoginController.js` - ç™»å½•æ§åˆ¶å™¨
  - `LogoutController.js` - ç™»å‡ºæ§åˆ¶å™¨
  - `TwoFactorAuthController.js` - åŒå› ç´ è®¤è¯æ§åˆ¶å™¨
- `AuthController.js` - è®¤è¯æ§åˆ¶å™¨ï¼ˆé€šç”¨ï¼‰
- `Balance.js` - ä½™é¢ç®¡ç†
- `EditController.js` - ç¼–è¾‘æ§åˆ¶å™¨
- `EndpointController.js` - ç«¯ç‚¹æ§åˆ¶å™¨
- `ModelController.js` - æ¨¡å‹æ§åˆ¶å™¨
- `mcp.js` - MCP æ§åˆ¶å™¨
- `PermissionsController.js` - æƒé™æ§åˆ¶å™¨
- `PluginController.js` - æ’ä»¶æ§åˆ¶å™¨
- `tools.js` - å·¥å…·æ§åˆ¶å™¨
- `TwoFactorController.js` - åŒå› ç´ è®¤è¯æ§åˆ¶å™¨
- `UserController.js` - ç”¨æˆ·æ§åˆ¶å™¨

#### `/api/server/routes/` - è·¯ç”±å®šä¹‰
- **ä½œç”¨**: Express è·¯ç”±é…ç½®
- `agents/` - æ™ºèƒ½ä½“è·¯ç”±
  - `chat.js` - æ™ºèƒ½ä½“èŠå¤©è·¯ç”±
  - `actions.js` - æ™ºèƒ½ä½“åŠ¨ä½œè·¯ç”±
  - `tools.js` - æ™ºèƒ½ä½“å·¥å…·è·¯ç”±
  - `v1.js` - æ™ºèƒ½ä½“ v1 è·¯ç”±
  - `index.js` - è·¯ç”±å…¥å£
- `assistants/` - åŠ©æ‰‹è·¯ç”±
  - `chatV1.js` - åŠ©æ‰‹èŠå¤© v1 è·¯ç”±
  - `chatV2.js` - åŠ©æ‰‹èŠå¤© v2 è·¯ç”±
  - `actions.js` - åŠ©æ‰‹åŠ¨ä½œè·¯ç”±
  - `tools.js` - åŠ©æ‰‹å·¥å…·è·¯ç”±
  - `documents.js` - æ–‡æ¡£è·¯ç”±
  - `v1.js` - åŠ©æ‰‹ v1 è·¯ç”±
  - `v2.js` - åŠ©æ‰‹ v2 è·¯ç”±
  - `index.js` - è·¯ç”±å…¥å£
- `edit/` - ç¼–è¾‘è·¯ç”±
  - `anthropic.js` - Anthropic ç¼–è¾‘
  - `custom.js` - è‡ªå®šä¹‰ç«¯ç‚¹ç¼–è¾‘
  - `google.js` - Google ç¼–è¾‘
  - `openAI.js` - OpenAI ç¼–è¾‘
  - `index.js` - è·¯ç”±å…¥å£
- `files/` - æ–‡ä»¶è·¯ç”±
  - `files.js` - æ–‡ä»¶ç®¡ç†è·¯ç”±
  - `images.js` - å›¾ç‰‡è·¯ç”±
  - `avatar.js` - å¤´åƒè·¯ç”±
  - `speech/` - è¯­éŸ³è·¯ç”±ï¼ˆSTT/TTSï¼‰
    - `stt.js` - è¯­éŸ³è½¬æ–‡å­—
    - `tts.js` - æ–‡å­—è½¬è¯­éŸ³
    - `customConfigSpeech.js` - è‡ªå®šä¹‰è¯­éŸ³é…ç½®
    - `index.js` - è·¯ç”±å…¥å£
  - `multer.js` - æ–‡ä»¶ä¸Šä¼ ä¸­é—´ä»¶
  - `index.js` - è·¯ç”±å…¥å£
- `auth.js` - è®¤è¯è·¯ç”±
- `balance.js` - ä½™é¢è·¯ç”±
- `banner.js` - æ¨ªå¹…è·¯ç”±
- `categories.js` - åˆ†ç±»è·¯ç”±
- `config.js` - é…ç½®è·¯ç”±
- `convos.js` - å¯¹è¯è·¯ç”±
- `endpoints.js` - ç«¯ç‚¹è·¯ç”±
- `keys.js` - API å¯†é’¥è·¯ç”±
- `mcp.js` - MCP è·¯ç”±
- `memories.js` - è®°å¿†è·¯ç”±
- `messages.js` - æ¶ˆæ¯è·¯ç”±
- `models.js` - æ¨¡å‹è·¯ç”±
- `oauth.js` - OAuth è·¯ç”±
- `plugins.js` - æ’ä»¶è·¯ç”±
- `presets.js` - é¢„è®¾è·¯ç”±
- `prompts.js` - æç¤ºè¯è·¯ç”±
- `roles.js` - è§’è‰²è·¯ç”±
- `search.js` - æœç´¢è·¯ç”±
- `share.js` - åˆ†äº«è·¯ç”±
- `static.js` - é™æ€æ–‡ä»¶è·¯ç”±
- `tags.js` - æ ‡ç­¾è·¯ç”±
- `tokenizer.js` - Token è®¡ç®—è·¯ç”±
- `types/` - ç±»å‹å®šä¹‰è·¯ç”±
  - `assistants.js` - åŠ©æ‰‹ç±»å‹
- `user.js` - ç”¨æˆ·è·¯ç”±
- `index.js` - è·¯ç”±å…¥å£

#### `/api/server/middleware/` - ä¸­é—´ä»¶
- **ä½œç”¨**: Express ä¸­é—´ä»¶ï¼ˆè®¤è¯ã€éªŒè¯ã€é™æµç­‰ï¼‰
- `accessResources/` - èµ„æºè®¿é—®æ§åˆ¶
  - `canAccessAgentResource.js` - æ™ºèƒ½ä½“èµ„æºè®¿é—®
  - `canAccessPromptGroupResource.js` - æç¤ºè¯ç»„èµ„æºè®¿é—®
  - `canAccessResource.js` - é€šç”¨èµ„æºè®¿é—®
  - `fileAccess.js` - æ–‡ä»¶è®¿é—®æ§åˆ¶
  - `index.js` - ä¸­é—´ä»¶å…¥å£
- `assistants/` - åŠ©æ‰‹ä¸­é—´ä»¶
  - `validate.js` - éªŒè¯ä¸­é—´ä»¶
  - `validateAuthor.js` - éªŒè¯ä½œè€…
- `config/` - é…ç½®ä¸­é—´ä»¶
  - `app.js` - åº”ç”¨é…ç½®
- `limiters/` - é™æµä¸­é—´ä»¶
  - `messageLimiters.js` - æ¶ˆæ¯é™æµ
  - `loginLimiter.js` - ç™»å½•é™æµ
  - `registerLimiter.js` - æ³¨å†Œé™æµ
  - `uploadLimiters.js` - ä¸Šä¼ é™æµ
  - `toolCallLimiter.js` - å·¥å…·è°ƒç”¨é™æµ
  - `sttLimiters.js` - STT é™æµ
  - `ttsLimiters.js` - TTS é™æµ
  - `forkLimiters.js` - Fork é™æµ
  - `importLimiters.js` - å¯¼å…¥é™æµ
  - `resetPasswordLimiter.js` - é‡ç½®å¯†ç é™æµ
  - `verifyEmailLimiter.js` - éªŒè¯é‚®ç®±é™æµ
  - `index.js` - é™æµä¸­é—´ä»¶å…¥å£
- `roles/` - è§’è‰²ä¸­é—´ä»¶
  - `admin.js` - ç®¡ç†å‘˜æƒé™
  - `access.spec.js` - è®¿é—®æµ‹è¯•
  - `index.js` - è§’è‰²ä¸­é—´ä»¶å…¥å£
- `validate/` - éªŒè¯ä¸­é—´ä»¶
  - `convoAccess.js` - å¯¹è¯è®¿é—®éªŒè¯
  - `index.js` - éªŒè¯ä¸­é—´ä»¶å…¥å£
- `abortControllers.js` - ä¸­æ­¢æ§åˆ¶å™¨ç®¡ç†
- `abortMiddleware.js` - ä¸­æ­¢ä¸­é—´ä»¶
- `abortRun.js` - ä¸­æ­¢è¿è¡Œ
- `buildEndpointOption.js` - æ„å»ºç«¯ç‚¹é€‰é¡¹
- `canDeleteAccount.js` - åˆ é™¤è´¦æˆ·æƒé™
- `checkBan.js` - æ£€æŸ¥å°ç¦
- `checkDomainAllowed.js` - æ£€æŸ¥å…è®¸çš„åŸŸå
- `checkInviteUser.js` - æ£€æŸ¥é‚€è¯·ç”¨æˆ·
- `checkPeoplePickerAccess.js` - æ£€æŸ¥äººå‘˜é€‰æ‹©å™¨è®¿é—®
- `concurrentLimiter.js` - å¹¶å‘é™æµ
- `denyRequest.js` - æ‹’ç»è¯·æ±‚
- `error.js` - é”™è¯¯å¤„ç†ä¸­é—´ä»¶
- `index.js` - ä¸­é—´ä»¶å…¥å£
- `logHeaders.js` - æ—¥å¿—å¤´ä¿¡æ¯
- `moderateText.js` - æ–‡æœ¬å®¡æ ¸
- `noIndex.js` - ç¦æ­¢ç´¢å¼•
- `optionalJwtAuth.js` - å¯é€‰ JWT è®¤è¯
- `requireJwtAuth.js` - å¿…éœ€ JWT è®¤è¯
- `requireLdapAuth.js` - LDAP è®¤è¯
- `requireLocalAuth.js` - æœ¬åœ°è®¤è¯
- `setHeaders.js` - è®¾ç½®å“åº”å¤´
- `uaParser.js` - ç”¨æˆ·ä»£ç†è§£æ
- `validateEndpoint.js` - éªŒè¯ç«¯ç‚¹
- `validateImageRequest.js` - éªŒè¯å›¾ç‰‡è¯·æ±‚
- `validateMessageReq.js` - éªŒè¯æ¶ˆæ¯è¯·æ±‚
- `validateModel.js` - éªŒè¯æ¨¡å‹
- `validatePasswordReset.js` - éªŒè¯å¯†ç é‡ç½®
- `validateRegistration.js` - éªŒè¯æ³¨å†Œ

#### `/api/server/services/` - ä¸šåŠ¡æœåŠ¡
- **ä½œç”¨**: ä¸šåŠ¡é€»è¾‘æœåŠ¡å±‚
- `Endpoints/` - ç«¯ç‚¹æœåŠ¡
  - `agents/` - æ™ºèƒ½ä½“ç«¯ç‚¹æœåŠ¡
    - `agent.js` - æ™ºèƒ½ä½“æœåŠ¡
    - `build.js` - æ„å»ºæœåŠ¡
    - `initialize.js` - åˆå§‹åŒ–æœåŠ¡
    - `title.js` - æ ‡é¢˜ç”ŸæˆæœåŠ¡
    - `index.js` - æœåŠ¡å…¥å£
  - `anthropic/` - Anthropic ç«¯ç‚¹æœåŠ¡
  - `assistants/` - åŠ©æ‰‹ç«¯ç‚¹æœåŠ¡
  - `azureAssistants/` - Azure åŠ©æ‰‹ç«¯ç‚¹æœåŠ¡
  - `bedrock/` - AWS Bedrock ç«¯ç‚¹æœåŠ¡
  - `custom/` - è‡ªå®šä¹‰ç«¯ç‚¹æœåŠ¡
  - `google/` - Google ç«¯ç‚¹æœåŠ¡
  - `openAI/` - OpenAI ç«¯ç‚¹æœåŠ¡
  - `index.js` - ç«¯ç‚¹æœåŠ¡å…¥å£
- `Files/` - æ–‡ä»¶æœåŠ¡
  - `Audio/` - éŸ³é¢‘æœåŠ¡
    - `STTService.js` - è¯­éŸ³è½¬æ–‡å­—æœåŠ¡
    - `TTSService.js` - æ–‡å­—è½¬è¯­éŸ³æœåŠ¡
    - `getVoices.js` - è·å–è¯­éŸ³åˆ—è¡¨
    - `getCustomConfigSpeech.js` - è·å–è‡ªå®šä¹‰è¯­éŸ³é…ç½®
    - `streamAudio.js` - æµå¼éŸ³é¢‘
    - `index.js` - æœåŠ¡å…¥å£
  - `Azure/` - Azure å­˜å‚¨æœåŠ¡
    - `crud.js` - CRUD æ“ä½œ
    - `images.js` - å›¾ç‰‡å¤„ç†
    - `index.js` - æœåŠ¡å…¥å£
  - `Firebase/` - Firebase å­˜å‚¨æœåŠ¡
  - `Local/` - æœ¬åœ°å­˜å‚¨æœåŠ¡
  - `OpenAI/` - OpenAI å­˜å‚¨æœåŠ¡
  - `S3/` - AWS S3 å­˜å‚¨æœåŠ¡
  - `VectorDB/` - å‘é‡æ•°æ®åº“æœåŠ¡
  - `images/` - å›¾ç‰‡å¤„ç†æœåŠ¡
    - `avatar.js` - å¤´åƒå¤„ç†
    - `convert.js` - æ ¼å¼è½¬æ¢
    - `encode.js` - ç¼–ç 
    - `resize.js` - ç¼©æ”¾
    - `index.js` - æœåŠ¡å…¥å£
  - `Code/` - ä»£ç å¤„ç†æœåŠ¡
  - `Citations/` - å¼•ç”¨æœåŠ¡
  - `process.js` - æ–‡ä»¶å¤„ç†
  - `permissions.js` - æ–‡ä»¶æƒé™
  - `strategies.js` - å­˜å‚¨ç­–ç•¥
  - `index.js` - æ–‡ä»¶æœåŠ¡å…¥å£
- `Runs/` - è¿è¡Œç®¡ç†æœåŠ¡
  - `RunManager.js` - è¿è¡Œç®¡ç†å™¨
  - `StreamRunManager.js` - æµå¼è¿è¡Œç®¡ç†å™¨
  - `handle.js` - è¿è¡Œå¤„ç†
  - `methods.js` - è¿è¡Œæ–¹æ³•
  - `index.js` - è¿è¡ŒæœåŠ¡å…¥å£
- `Threads/` - çº¿ç¨‹æœåŠ¡
  - `manage.js` - çº¿ç¨‹ç®¡ç†
  - `processMessages.js` - æ¶ˆæ¯å¤„ç†
  - `index.js` - çº¿ç¨‹æœåŠ¡å…¥å£
- `Tools/` - å·¥å…·æœåŠ¡
  - `mcp.js` - MCP å·¥å…·æœåŠ¡
  - `search.js` - æœç´¢å·¥å…·æœåŠ¡
  - `credentials.js` - å‡­è¯ç®¡ç†
- `Config/` - é…ç½®æœåŠ¡
  - `app.js` - åº”ç”¨é…ç½®
  - `EndpointService.js` - ç«¯ç‚¹é…ç½®æœåŠ¡
  - `getEndpointsConfig.js` - è·å–ç«¯ç‚¹é…ç½®
  - `getCachedTools.js` - è·å–ç¼“å­˜å·¥å…·
  - `loadConfigModels.js` - åŠ è½½é…ç½®æ¨¡å‹
  - `loadCustomConfig.js` - åŠ è½½è‡ªå®šä¹‰é…ç½®
  - `loadDefaultEConfig.js` - åŠ è½½é»˜è®¤ç«¯ç‚¹é…ç½®
  - `loadDefaultModels.js` - åŠ è½½é»˜è®¤æ¨¡å‹
  - `mcp.js` - MCP é…ç½®
  - `ldap.js` - LDAP é…ç½®
  - `index.js` - é…ç½®æœåŠ¡å…¥å£
- `ActionService.js` - åŠ¨ä½œæœåŠ¡
- `AssistantService.js` - åŠ©æ‰‹æœåŠ¡
- `AuthService.js` - è®¤è¯æœåŠ¡
- `cleanup.js` - æ¸…ç†æœåŠ¡
- `createRunBody.js` - åˆ›å»ºè¿è¡Œä½“
- `GraphApiService.js` - Graph API æœåŠ¡
- `GraphTokenService.js` - Graph Token æœåŠ¡
- `initializeMCPs.js` - åˆå§‹åŒ– MCP
- `initializeOAuthReconnectManager.js` - åˆå§‹åŒ– OAuth é‡è¿ç®¡ç†å™¨
- `MCP.js` - MCP æœåŠ¡
- `ModelService.js` - æ¨¡å‹æœåŠ¡
- `PermissionService.js` - æƒé™æœåŠ¡
- `PluginService.js` - æ’ä»¶æœåŠ¡
- `ToolService.js` - å·¥å…·æœåŠ¡
- `twoFactorService.js` - åŒå› ç´ è®¤è¯æœåŠ¡
- `UserService.js` - ç”¨æˆ·æœåŠ¡
- `start/` - å¯åŠ¨æœåŠ¡
  - `migration.js` - æ•°æ®åº“è¿ç§»
  - `tools.js` - å·¥å…·åˆå§‹åŒ–
- `Artifacts/` - å·¥ä»¶æœåŠ¡
  - `update.js` - æ›´æ–°å·¥ä»¶

#### `/api/server/utils/` - æœåŠ¡å™¨å·¥å…·
- **ä½œç”¨**: æœåŠ¡å™¨ç«¯å·¥å…·å‡½æ•°å’Œæ¨¡æ¿
- åŒ…å«å„ç§å·¥å…·å‡½æ•°ã€JSON é…ç½®ã€Handlebars æ¨¡æ¿ç­‰

#### `/api/server/index.js` - æœåŠ¡å™¨å…¥å£
- **ä½œç”¨**: Express æœåŠ¡å™¨å¯åŠ¨æ–‡ä»¶

#### `/api/server/cleanup.js` - æ¸…ç†è„šæœ¬
- **ä½œç”¨**: æœåŠ¡å™¨å…³é—­æ—¶çš„æ¸…ç†é€»è¾‘

#### `/api/server/socialLogins.js` - ç¤¾äº¤ç™»å½•
- **ä½œç”¨**: ç¤¾äº¤ç™»å½•é…ç½®

### `/api/strategies/` - è®¤è¯ç­–ç•¥
- **ä½œç”¨**: Passport.js è®¤è¯ç­–ç•¥
- `jwtStrategy.js` - JWT è®¤è¯ç­–ç•¥
- `localStrategy.js` - æœ¬åœ°è®¤è¯ç­–ç•¥
- `ldapStrategy.js` - LDAP è®¤è¯ç­–ç•¥
- `openidStrategy.js` - OpenID è®¤è¯ç­–ç•¥
- `samlStrategy.js` - SAML è®¤è¯ç­–ç•¥
- `appleStrategy.js` - Apple è®¤è¯ç­–ç•¥
- `discordStrategy.js` - Discord è®¤è¯ç­–ç•¥
- `facebookStrategy.js` - Facebook è®¤è¯ç­–ç•¥
- `githubStrategy.js` - GitHub è®¤è¯ç­–ç•¥
- `googleStrategy.js` - Google è®¤è¯ç­–ç•¥
- `socialLogin.js` - ç¤¾äº¤ç™»å½•å¤„ç†
- `process.js` - è®¤è¯å¤„ç†
- `validators.js` - éªŒè¯å™¨
- `index.js` - ç­–ç•¥å…¥å£

### `/api/test/` - æµ‹è¯•æ–‡ä»¶
- **ä½œç”¨**: å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- `__mocks__/` - Mock æ–‡ä»¶
- `app/` - åº”ç”¨å±‚æµ‹è¯•
- `server/` - æœåŠ¡å™¨å±‚æµ‹è¯•
- `services/` - æœåŠ¡å±‚æµ‹è¯•
- `jestSetup.js` - Jest æµ‹è¯•é…ç½®

### `/api/utils/` - å·¥å…·å‡½æ•°
- **ä½œç”¨**: é€šç”¨å·¥å…·å‡½æ•°
- `deriveBaseURL.js` - æ´¾ç”ŸåŸºç¡€ URL
- `extractBaseURL.js` - æå–åŸºç¡€ URL
- `findMessageContent.js` - æŸ¥æ‰¾æ¶ˆæ¯å†…å®¹
- `logger.js` - æ—¥å¿—å·¥å…·
- `LoggingSystem.js` - æ—¥å¿—ç³»ç»Ÿ
- `tokens.spec.js` - Token æµ‹è¯•
- `index.js` - å·¥å…·å…¥å£

### `/api/typedefs.js` - ç±»å‹å®šä¹‰
- **ä½œç”¨**: GraphQL ç±»å‹å®šä¹‰ï¼ˆå¦‚æœä½¿ç”¨ï¼‰

---

## ğŸ¨ å‰ç«¯ Client æ–‡ä»¶å¤¹ç»“æ„ (`client/`)

### `/client/src/` - æºä»£ç ç›®å½•
- **ä½œç”¨**: React åº”ç”¨çš„ä¸»è¦æºä»£ç 

#### `/client/src/components/` - React ç»„ä»¶
- **ä½œç”¨**: å¯å¤ç”¨çš„ UI ç»„ä»¶
- `Agents/` - æ™ºèƒ½ä½“ç›¸å…³ç»„ä»¶
  - `AgentCard.tsx` - æ™ºèƒ½ä½“å¡ç‰‡
  - `AgentDetail.tsx` - æ™ºèƒ½ä½“è¯¦æƒ…
  - `AgentGrid.tsx` - æ™ºèƒ½ä½“ç½‘æ ¼
  - `Marketplace.tsx` - æ™ºèƒ½ä½“å¸‚åœº
  - `SearchBar.tsx` - æœç´¢æ 
  - `CategoryTabs.tsx` - åˆ†ç±»æ ‡ç­¾
  - `VirtualizedAgentGrid.tsx` - è™šæ‹ŸåŒ–ç½‘æ ¼
- `Artifacts/` - å·¥ä»¶ç»„ä»¶
  - `Artifact.tsx` - å·¥ä»¶ä¸»ç»„ä»¶
  - `ArtifactCodeEditor.tsx` - ä»£ç ç¼–è¾‘å™¨
  - `ArtifactPreview.tsx` - é¢„è§ˆç»„ä»¶
  - `Artifacts.tsx` - å·¥ä»¶åˆ—è¡¨
  - `Code.tsx` - ä»£ç æ˜¾ç¤º
  - `Mermaid.tsx` - Mermaid å›¾è¡¨
  - `DownloadArtifact.tsx` - ä¸‹è½½å·¥ä»¶
- `Audio/` - éŸ³é¢‘ç»„ä»¶
  - `TTS.tsx` - æ–‡å­—è½¬è¯­éŸ³
  - `Voices.tsx` - è¯­éŸ³é€‰æ‹©
- `Auth/` - è®¤è¯ç»„ä»¶
  - `Login.tsx` - ç™»å½•é¡µé¢
  - `LoginForm.tsx` - ç™»å½•è¡¨å•
  - `Registration.tsx` - æ³¨å†Œé¡µé¢
  - `ResetPassword.tsx` - é‡ç½®å¯†ç 
  - `RequestPasswordReset.tsx` - è¯·æ±‚é‡ç½®å¯†ç 
  - `TwoFactorScreen.tsx` - åŒå› ç´ è®¤è¯
  - `VerifyEmail.tsx` - éªŒè¯é‚®ç®±
  - `SocialButton.tsx` - ç¤¾äº¤ç™»å½•æŒ‰é’®
  - `AuthLayout.tsx` - è®¤è¯å¸ƒå±€
  - `ErrorMessage.tsx` - é”™è¯¯æ¶ˆæ¯
  - `Footer.tsx` - é¡µè„š
- `Banners/` - æ¨ªå¹…ç»„ä»¶
  - `Banner.tsx` - æ¨ªå¹…æ˜¾ç¤º
- `Bookmarks/` - ä¹¦ç­¾ç»„ä»¶
  - `BookmarkItem.tsx` - ä¹¦ç­¾é¡¹
  - `BookmarkItems.tsx` - ä¹¦ç­¾åˆ—è¡¨
  - `BookmarkForm.tsx` - ä¹¦ç­¾è¡¨å•
  - `BookmarkEditDialog.tsx` - ç¼–è¾‘å¯¹è¯æ¡†
- `Chat/` - èŠå¤©ç»„ä»¶
  - `ChatView.tsx` - èŠå¤©è§†å›¾ä¸»ç»„ä»¶
  - `Header.tsx` - èŠå¤©å¤´éƒ¨
  - `Footer.tsx` - èŠå¤©é¡µè„š
  - `Landing.tsx` - ç™»å½•é¡µ
  - `Presentation.tsx` - æ¼”ç¤ºæ¨¡å¼
  - `TemporaryChat.tsx` - ä¸´æ—¶èŠå¤©
  - `AddMultiConvo.tsx` - æ·»åŠ å¤šå¯¹è¯
  - `ExportAndShareMenu.tsx` - å¯¼å‡ºå’Œåˆ†äº«èœå•
  - `Input/` - è¾“å…¥ç»„ä»¶
    - åŒ…å«æ–‡æœ¬è¾“å…¥ã€æ–‡ä»¶ä¸Šä¼ ã€è¯­éŸ³è¾“å…¥ç­‰
  - `Messages/` - æ¶ˆæ¯ç»„ä»¶
    - åŒ…å«æ¶ˆæ¯æ˜¾ç¤ºã€æ¸²æŸ“ã€é™„ä»¶ç­‰
  - `Menus/` - èœå•ç»„ä»¶
    - åŒ…å«å„ç§ä¸Šä¸‹æ–‡èœå•
- `Conversations/` - å¯¹è¯ç»„ä»¶
  - `Conversations.tsx` - å¯¹è¯åˆ—è¡¨
  - `Convo.tsx` - å•ä¸ªå¯¹è¯
  - `ConvoLink.tsx` - å¯¹è¯é“¾æ¥
  - `ConvoOptions/` - å¯¹è¯é€‰é¡¹
  - `RenameForm.tsx` - é‡å‘½åè¡¨å•
  - `Pages.tsx` - åˆ†é¡µ
- `Endpoints/` - ç«¯ç‚¹ç»„ä»¶
  - `EndpointSettings.tsx` - ç«¯ç‚¹è®¾ç½®
  - `AlternativeSettings.tsx` - æ›¿ä»£è®¾ç½®
  - `ConvoIcon.tsx` - å¯¹è¯å›¾æ ‡
  - `EndpointIcon.tsx` - ç«¯ç‚¹å›¾æ ‡
  - `Icon.tsx` - å›¾æ ‡ç»„ä»¶
  - `Settings/` - è®¾ç½®ç»„ä»¶
- `Files/` - æ–‡ä»¶ç»„ä»¶
  - `FileList/` - æ–‡ä»¶åˆ—è¡¨
  - `FilesListView.tsx` - æ–‡ä»¶åˆ—è¡¨è§†å›¾
  - `FileDashboardView.tsx` - æ–‡ä»¶ä»ªè¡¨æ¿
  - `VectorStore/` - å‘é‡å­˜å‚¨ç»„ä»¶
  - `VectorStoreView.tsx` - å‘é‡å­˜å‚¨è§†å›¾
- `Input/` - è¾“å…¥ç»„ä»¶
  - `Generations/` - ç”Ÿæˆç»„ä»¶
  - `ModelSelect/` - æ¨¡å‹é€‰æ‹©
  - `SetKeyDialog/` - è®¾ç½®å¯†é’¥å¯¹è¯æ¡†
- `MCP/` - MCP ç»„ä»¶
  - `MCPConfigDialog.tsx` - MCP é…ç½®å¯¹è¯æ¡†
  - `MCPServerStatusIcon.tsx` - æœåŠ¡å™¨çŠ¶æ€å›¾æ ‡
  - `CustomUserVarsSection.tsx` - è‡ªå®šä¹‰ç”¨æˆ·å˜é‡
  - `ServerInitializationSection.tsx` - æœåŠ¡å™¨åˆå§‹åŒ–
- `Messages/` - æ¶ˆæ¯ç»„ä»¶
  - `MessageContent.tsx` - æ¶ˆæ¯å†…å®¹
  - `ContentRender.tsx` - å†…å®¹æ¸²æŸ“
  - `Content/` - å†…å®¹ç»„ä»¶
  - `ScrollToBottom.tsx` - æ»šåŠ¨åˆ°åº•éƒ¨
- `Nav/` - å¯¼èˆªç»„ä»¶
  - `Nav.tsx` - ä¸»å¯¼èˆª
  - `MobileNav.tsx` - ç§»åŠ¨ç«¯å¯¼èˆª
  - `NavLink.tsx` - å¯¼èˆªé“¾æ¥
  - `NavToggle.tsx` - å¯¼èˆªåˆ‡æ¢
  - `NewChat.tsx` - æ–°èŠå¤©
  - `SearchBar.tsx` - æœç´¢æ 
  - `Settings.tsx` - è®¾ç½®
  - `AccountSettings.tsx` - è´¦æˆ·è®¾ç½®
  - `SettingsTabs/` - è®¾ç½®æ ‡ç­¾é¡µ
  - `Bookmarks/` - ä¹¦ç­¾å¯¼èˆª
  - `ExportConversation/` - å¯¼å‡ºå¯¹è¯
- `OAuth/` - OAuth ç»„ä»¶
  - `OAuthError.tsx` - OAuth é”™è¯¯
  - `OAuthSuccess.tsx` - OAuth æˆåŠŸ
- `Plugins/` - æ’ä»¶ç»„ä»¶
  - `Store/` - æ’ä»¶å•†åº—
- `Prompts/` - æç¤ºè¯ç»„ä»¶
  - `PromptForm.tsx` - æç¤ºè¯è¡¨å•
  - `PromptEditor.tsx` - æç¤ºè¯ç¼–è¾‘å™¨
  - `PromptDetails.tsx` - æç¤ºè¯è¯¦æƒ…
  - `PromptsView.tsx` - æç¤ºè¯è§†å›¾
  - `ManagePrompts.tsx` - ç®¡ç†æç¤ºè¯
  - `Groups/` - æç¤ºè¯ç»„
  - `PromptVersions.tsx` - æç¤ºè¯ç‰ˆæœ¬
- `Share/` - åˆ†äº«ç»„ä»¶
  - `ShareView.tsx` - åˆ†äº«è§†å›¾
  - `MessagesView.tsx` - æ¶ˆæ¯è§†å›¾
  - `Message.tsx` - åˆ†äº«æ¶ˆæ¯
  - `ShareArtifacts.tsx` - åˆ†äº«å·¥ä»¶
- `SharePoint/` - SharePoint ç»„ä»¶
  - `SharePointPickerDialog.tsx` - é€‰æ‹©å™¨å¯¹è¯æ¡†
- `Sharing/` - åˆ†äº«åŠŸèƒ½ç»„ä»¶
- `SidePanel/` - ä¾§è¾¹æ ç»„ä»¶
  - åŒ…å«å„ç§ä¾§è¾¹æ é¢æ¿ï¼ˆè®¾ç½®ã€æ™ºèƒ½ä½“ã€æç¤ºè¯ç­‰ï¼‰
- `Tools/` - å·¥å…·ç»„ä»¶
  - `ToolSelectDialog.tsx` - å·¥å…·é€‰æ‹©å¯¹è¯æ¡†
  - `AssistantToolsDialog.tsx` - åŠ©æ‰‹å·¥å…·å¯¹è¯æ¡†
  - `MCPToolSelectDialog.tsx` - MCP å·¥å…·é€‰æ‹©
  - `ToolItem.tsx` - å·¥å…·é¡¹
  - `MCPToolItem.tsx` - MCP å·¥å…·é¡¹
- `Web/` - Web ç›¸å…³ç»„ä»¶
  - åŒ…å«æµè§ˆå™¨ã€ç½‘ç»œæœç´¢ç­‰ç»„ä»¶
- `ui/` - UI åŸºç¡€ç»„ä»¶
- `index.ts` - ç»„ä»¶å¯¼å‡º

#### `/client/src/hooks/` - React Hooks
- **ä½œç”¨**: è‡ªå®šä¹‰ React Hooks
- `Agents/` - æ™ºèƒ½ä½“ç›¸å…³ Hooks
  - `useAgentsMap.ts` - æ™ºèƒ½ä½“æ˜ å°„
  - `useSelectAgent.ts` - é€‰æ‹©æ™ºèƒ½ä½“
  - `useAgentCapabilities.ts` - æ™ºèƒ½ä½“èƒ½åŠ›
  - `useAgentCategories.tsx` - æ™ºèƒ½ä½“åˆ†ç±»
- `Artifacts/` - å·¥ä»¶ç›¸å…³ Hooks
  - `useArtifacts.ts` - å·¥ä»¶ç®¡ç†
  - `useArtifactProps.ts` - å·¥ä»¶å±æ€§
  - `useAutoScroll.ts` - è‡ªåŠ¨æ»šåŠ¨
- `Assistants/` - åŠ©æ‰‹ç›¸å…³ Hooks
  - `useAssistantsMap.ts` - åŠ©æ‰‹æ˜ å°„
  - `useSelectAssistant.ts` - é€‰æ‹©åŠ©æ‰‹
- `Audio/` - éŸ³é¢‘ç›¸å…³ Hooks
  - `useTTSBrowser.ts` - æµè§ˆå™¨ TTS
  - `useTTSExternal.ts` - å¤–éƒ¨ TTS
  - `useAudioRef.ts` - éŸ³é¢‘å¼•ç”¨
- `Chat/` - èŠå¤©ç›¸å…³ Hooks
  - `useChatFunctions.ts` - èŠå¤©å‡½æ•°ï¼ˆæ ¸å¿ƒï¼‰
  - `useChatHelpers.ts` - èŠå¤©è¾…åŠ©
  - `useAddedHelpers.ts` - æ·»åŠ è¾…åŠ©
  - `useAddedResponse.ts` - æ·»åŠ å“åº”
- `Config/` - é…ç½®ç›¸å…³ Hooks
  - `useAppStartup.ts` - åº”ç”¨å¯åŠ¨
  - `useClearStates.ts` - æ¸…é™¤çŠ¶æ€
- `Conversations/` - å¯¹è¯ç›¸å…³ Hooks
  - `useDefaultConvo.ts` - é»˜è®¤å¯¹è¯
  - `useGenerateConvo.ts` - ç”Ÿæˆå¯¹è¯
  - `useExportConversation.ts` - å¯¼å‡ºå¯¹è¯
  - `usePresets.ts` - é¢„è®¾ç®¡ç†
- `Endpoint/` - ç«¯ç‚¹ç›¸å…³ Hooks
  - `useEndpoints.ts` - ç«¯ç‚¹ç®¡ç†
  - `useKeyDialog.ts` - å¯†é’¥å¯¹è¯æ¡†
- `Files/` - æ–‡ä»¶ç›¸å…³ Hooks
  - `useFileHandling.ts` - æ–‡ä»¶å¤„ç†ï¼ˆæ ¸å¿ƒï¼‰
  - `useFileMap.ts` - æ–‡ä»¶æ˜ å°„
  - `useFileDeletion.ts` - æ–‡ä»¶åˆ é™¤
  - `useSharePointPicker.ts` - SharePoint é€‰æ‹©å™¨
- `Input/` - è¾“å…¥ç›¸å…³ Hooks
  - `useTextarea.ts` - æ–‡æœ¬åŒºåŸŸ
  - `useSpeechToText.ts` - è¯­éŸ³è½¬æ–‡å­—
  - `useTextToSpeech.ts` - æ–‡å­—è½¬è¯­éŸ³
  - `useQueryParams.ts` - æŸ¥è¯¢å‚æ•°
  - `useAutoSave.ts` - è‡ªåŠ¨ä¿å­˜
- `MCP/` - MCP ç›¸å…³ Hooks
  - `useMCPServerManager.ts` - MCP æœåŠ¡å™¨ç®¡ç†
  - `useMCPSelect.ts` - MCP é€‰æ‹©
  - `useMCPConnectionStatus.ts` - è¿æ¥çŠ¶æ€
- `Messages/` - æ¶ˆæ¯ç›¸å…³ Hooks
  - `useSubmitMessage.ts` - æäº¤æ¶ˆæ¯
  - `useMessageActions.tsx` - æ¶ˆæ¯æ“ä½œ
  - `useMessageHelpers.tsx` - æ¶ˆæ¯è¾…åŠ©
  - `useCopyToClipboard.ts` - å¤åˆ¶åˆ°å‰ªè´´æ¿
- `SSE/` - SSE ç›¸å…³ Hooks
  - `useSSE.ts` - SSE è¿æ¥ï¼ˆæ ¸å¿ƒï¼‰
  - `useEventHandlers.ts` - äº‹ä»¶å¤„ç†
  - `useContentHandler.ts` - å†…å®¹å¤„ç†
  - `useMessageHandler.ts` - æ¶ˆæ¯å¤„ç†
  - `useStepHandler.ts` - æ­¥éª¤å¤„ç†
- `Plugins/` - æ’ä»¶ç›¸å…³ Hooks
- `Prompts/` - æç¤ºè¯ç›¸å…³ Hooks
- `Roles/` - è§’è‰²ç›¸å…³ Hooks
- `Sharing/` - åˆ†äº«ç›¸å…³ Hooks
- `AuthContext.tsx` - è®¤è¯ä¸Šä¸‹æ–‡
- `useLocalize.ts` - æœ¬åœ°åŒ–
- `useLocalStorage.tsx` - æœ¬åœ°å­˜å‚¨
- `useInfiniteScroll.ts` - æ— é™æ»šåŠ¨
- `useVirtualGrid.ts` - è™šæ‹Ÿç½‘æ ¼
- `index.ts` - Hooks å¯¼å‡º

#### `/client/src/routes/` - è·¯ç”±é…ç½®
- **ä½œç”¨**: React Router è·¯ç”±å®šä¹‰
- `ChatRoute.tsx` - èŠå¤©è·¯ç”±
- `Dashboard.tsx` - ä»ªè¡¨æ¿è·¯ç”±
- `Search.tsx` - æœç´¢è·¯ç”±
- `ShareRoute.tsx` - åˆ†äº«è·¯ç”±
- `Root.tsx` - æ ¹è·¯ç”±
- `RouteErrorBoundary.tsx` - è·¯ç”±é”™è¯¯è¾¹ç•Œ
- `Layouts/` - å¸ƒå±€ç»„ä»¶
- `useAuthRedirect.ts` - è®¤è¯é‡å®šå‘
- `index.tsx` - è·¯ç”±å…¥å£

#### `/client/src/store/` - çŠ¶æ€ç®¡ç†
- **ä½œç”¨**: Recoil çŠ¶æ€ç®¡ç†é…ç½®
- åŒ…å«å„ç§åŸå­çŠ¶æ€å’Œé€‰æ‹©å™¨

#### `/client/src/data-provider/` - æ•°æ®æä¾›è€…
- **ä½œç”¨**: React Query æ•°æ®è·å–å’Œç¼“å­˜
- `Agents/` - æ™ºèƒ½ä½“æ•°æ®
- `Auth/` - è®¤è¯æ•°æ®
- `Endpoints/` - ç«¯ç‚¹æ•°æ®
- `Files/` - æ–‡ä»¶æ•°æ®
- `Messages/` - æ¶ˆæ¯æ•°æ®
- `Memories/` - è®°å¿†æ•°æ®
- `Tools/` - å·¥å…·æ•°æ®
- `Misc/` - æ‚é¡¹æ•°æ®
- `connection.ts` - è¿æ¥é…ç½®
- `queries.ts` - æŸ¥è¯¢å®šä¹‰
- `mutations.ts` - å˜æ›´å®šä¹‰
- `index.ts` - æ•°æ®æä¾›è€…å…¥å£

#### `/client/src/Providers/` - Context Providers
- **ä½œç”¨**: React Context æä¾›è€…
- åŒ…å«å„ç§å…¨å±€çŠ¶æ€æä¾›è€…ï¼ˆè®¤è¯ã€ä¸»é¢˜ã€MCPã€æ™ºèƒ½ä½“ç­‰ï¼‰

#### `/client/src/utils/` - å·¥å…·å‡½æ•°
- **ä½œç”¨**: å‰ç«¯å·¥å…·å‡½æ•°
- åŒ…å«å„ç§è¾…åŠ©å‡½æ•°ï¼ˆæ ¼å¼åŒ–ã€éªŒè¯ã€è½¬æ¢ç­‰ï¼‰

#### `/client/src/common/` - é€šç”¨ä»£ç 
- **ä½œç”¨**: å…±äº«ç±»å‹å®šä¹‰å’Œå¸¸é‡
- `types.ts` - ç±»å‹å®šä¹‰
- `tools.ts` - å·¥å…·ç±»å‹
- `agents-types.ts` - æ™ºèƒ½ä½“ç±»å‹
- `assistants-types.ts` - åŠ©æ‰‹ç±»å‹
- `mcp.ts` - MCP ç±»å‹
- `menus.ts` - èœå•ç±»å‹
- `selector.ts` - é€‰æ‹©å™¨
- `a11y.ts` - æ— éšœç¢åŠŸèƒ½

#### `/client/src/locales/` - å›½é™…åŒ–
- **ä½œç”¨**: å¤šè¯­è¨€æ”¯æŒ
- åŒ…å«å„ç§è¯­è¨€çš„ç¿»è¯‘æ–‡ä»¶ï¼ˆenã€zh-Hansã€zh-Hant ç­‰ï¼‰
- `i18n.ts` - i18next é…ç½®

#### `/client/src/a11y/` - æ— éšœç¢åŠŸèƒ½
- **ä½œç”¨**: æ— éšœç¢åŠŸèƒ½ç»„ä»¶
- `Announcer.tsx` - å±å¹•é˜…è¯»å™¨
- `LiveAnnouncer.tsx` - å®æ—¶å…¬å‘Š
- `MessageBlock.tsx` - æ¶ˆæ¯å—

#### `/client/src/constants/` - å¸¸é‡
- **ä½œç”¨**: åº”ç”¨å¸¸é‡å®šä¹‰
- `agentCategories.ts` - æ™ºèƒ½ä½“åˆ†ç±»

#### `/client/src/App.jsx` - åº”ç”¨å…¥å£
- **ä½œç”¨**: React åº”ç”¨ä¸»ç»„ä»¶

#### `/client/src/main.jsx` - å…¥å£æ–‡ä»¶
- **ä½œç”¨**: React åº”ç”¨å¯åŠ¨æ–‡ä»¶

### `/client/public/` - é™æ€èµ„æº
- **ä½œç”¨**: å…¬å…±é™æ€æ–‡ä»¶
- `assets/` - å›¾ç‰‡ã€å›¾æ ‡ç­‰èµ„æº
- `fonts/` - å­—ä½“æ–‡ä»¶
- `robots.txt` - æœç´¢å¼•æ“é…ç½®

### `/client/dist/` - æ„å»ºè¾“å‡º
- **ä½œç”¨**: Vite æ„å»ºåçš„ç”Ÿäº§æ–‡ä»¶
- åŒ…å«æ‰“åŒ…åçš„ JSã€CSSã€HTML ç­‰

### `/client/test/` - æµ‹è¯•æ–‡ä»¶
- **ä½œç”¨**: å‰ç«¯æµ‹è¯•
- Mock æ–‡ä»¶å’Œæµ‹è¯•å·¥å…·

### `/client/scripts/` - è„šæœ¬
- **ä½œç”¨**: æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
- `post-build.cjs` - æ„å»ºåè„šæœ¬

### `/client/` é…ç½®æ–‡ä»¶
- `vite.config.ts` - Vite é…ç½®
- `tsconfig.json` - TypeScript é…ç½®
- `tailwind.config.cjs` - Tailwind CSS é…ç½®
- `postcss.config.cjs` - PostCSS é…ç½®
- `babel.config.cjs` - Babel é…ç½®
- `jest.config.cjs` - Jest æµ‹è¯•é…ç½®
- `index.html` - HTML æ¨¡æ¿
- `nginx.conf` - Nginx é…ç½®ç¤ºä¾‹

---

## ğŸ“¦ Packages æ–‡ä»¶å¤¹ç»“æ„ (`packages/`)

### `/packages/api/` - API å…±äº«åŒ…
- **ä½œç”¨**: åç«¯å…±äº«çš„ TypeScript ä»£ç 
- `src/agents/` - æ™ºèƒ½ä½“ç›¸å…³ä»£ç 
- `src/mcp/` - MCP ç›¸å…³ä»£ç 
- `src/app/` - åº”ç”¨æœåŠ¡
- `src/auth/` - è®¤è¯ç›¸å…³
- `src/cache/` - ç¼“å­˜ç›¸å…³
- `src/files/` - æ–‡ä»¶å¤„ç†
- `src/endpoints/` - ç«¯ç‚¹é…ç½®
- `src/tools/` - å·¥å…·ç›¸å…³
- `dist/` - ç¼–è¯‘è¾“å‡º

### `/packages/client/` - å®¢æˆ·ç«¯å…±äº«åŒ…
- **ä½œç”¨**: å‰ç«¯å…±äº«çš„ç»„ä»¶å’Œå·¥å…·
- `src/components/` - å…±äº«ç»„ä»¶
- `src/hooks/` - å…±äº« Hooks
- `src/utils/` - å…±äº«å·¥å…·
- `src/theme/` - ä¸»é¢˜é…ç½®
- `src/svgs/` - SVG å›¾æ ‡
- `dist/` - ç¼–è¯‘è¾“å‡º

### `/packages/data-provider/` - æ•°æ®æä¾›è€…åŒ…
- **ä½œç”¨**: æ•°æ®è·å–å’Œ API è°ƒç”¨
- `src/` - æºä»£ç 
- `react-query/` - React Query é›†æˆ
- `specs/` - æµ‹è¯•è§„èŒƒ
- `dist/` - ç¼–è¯‘è¾“å‡º

### `/packages/data-schemas/` - æ•°æ®æ¨¡å¼åŒ…
- **ä½œç”¨**: æ•°æ®æ¨¡å‹å’ŒéªŒè¯æ¨¡å¼
- `src/schema/` - Mongoose æ¨¡å¼
- `src/models/` - æ•°æ®æ¨¡å‹
- `src/types/` - TypeScript ç±»å‹
- `src/methods/` - æ¨¡å‹æ–¹æ³•
- `dist/` - ç¼–è¯‘è¾“å‡º

---

## âš™ï¸ é…ç½®æ–‡ä»¶å¤¹ (`config/`)

- **ä½œç”¨**: é…ç½®è„šæœ¬å’Œç®¡ç†å·¥å…·
- `add-balance.js` - æ·»åŠ ä½™é¢
- `ban-user.js` - å°ç¦ç”¨æˆ·
- `create-user.js` - åˆ›å»ºç”¨æˆ·
- `delete-user.js` - åˆ é™¤ç”¨æˆ·
- `invite-user.js` - é‚€è¯·ç”¨æˆ·
- `list-users.js` - åˆ—å‡ºç”¨æˆ·
- `reset-password.js` - é‡ç½®å¯†ç 
- `set-balance.js` - è®¾ç½®ä½™é¢
- `update.js` - æ›´æ–°è„šæœ¬
- `migrate-agent-permissions.js` - è¿ç§»æ™ºèƒ½ä½“æƒé™
- `migrate-prompt-permissions.js` - è¿ç§»æç¤ºè¯æƒé™
- `reset-meili-sync.js` - é‡ç½® Meilisearch åŒæ­¥
- `translations/` - ç¿»è¯‘æ–‡ä»¶

---

## ğŸ§ª æµ‹è¯•æ–‡ä»¶å¤¹ (`e2e/`)

- **ä½œç”¨**: ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆPlaywrightï¼‰
- `specs/` - æµ‹è¯•è§„èŒƒ
- `setup/` - æµ‹è¯•è®¾ç½®
- `playwright.config.ts` - Playwright é…ç½®

---

## ğŸ³ éƒ¨ç½²æ–‡ä»¶å¤¹

### `/helm/` - Kubernetes Helm å›¾è¡¨
- **ä½œç”¨**: Kubernetes éƒ¨ç½²é…ç½®
- `librechat/` - ä¸»åº”ç”¨å›¾è¡¨
- `librechat-rag-api/` - RAG API å›¾è¡¨

### `/redis-config/` - Redis é…ç½®
- **ä½œç”¨**: Redis é›†ç¾¤å’Œ TLS é…ç½®
- `redis-7001.conf` - Redis èŠ‚ç‚¹ 1
- `redis-7002.conf` - Redis èŠ‚ç‚¹ 2
- `redis-7003.conf` - Redis èŠ‚ç‚¹ 3
- `redis-tls.conf` - TLS é…ç½®
- `start-cluster.sh` - å¯åŠ¨é›†ç¾¤è„šæœ¬

### `/utils/docker/` - Docker å·¥å…·
- **ä½œç”¨**: Docker ç›¸å…³è„šæœ¬

---

## ğŸ“ å…¶ä»–é‡è¦æ–‡ä»¶

### æ ¹ç›®å½•é…ç½®æ–‡ä»¶
- `package.json` - é¡¹ç›®ä¾èµ–å’Œè„šæœ¬
- `docker-compose.yml` - Docker Compose é…ç½®
- `Dockerfile` - Docker é•œåƒæ„å»º
- `librechat.yaml` - åº”ç”¨é…ç½®æ–‡ä»¶
- `README.md` - é¡¹ç›®è¯´æ˜
- `CHANGELOG.md` - æ›´æ–°æ—¥å¿—
- `LICENSE` - è®¸å¯è¯

---

## ğŸ“Š æ–‡ä»¶å¤¹å…³ç³»å›¾

```
LibreChat/
â”œâ”€â”€ api/                    # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app/               # åº”ç”¨æ ¸å¿ƒï¼ˆå®¢æˆ·ç«¯ï¼‰
â”‚   â”œâ”€â”€ server/            # æœåŠ¡å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ controllers/  # è¯·æ±‚å¤„ç†
â”‚   â”‚   â”œâ”€â”€ routes/       # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ middleware/   # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ services/    # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ models/           # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ config/           # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ strategies/       # è®¤è¯ç­–ç•¥
â”‚
â”œâ”€â”€ client/                # å‰ç«¯åº”ç”¨
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/    # UI ç»„ä»¶
â”‚       â”œâ”€â”€ hooks/        # React Hooks
â”‚       â”œâ”€â”€ routes/        # è·¯ç”±é…ç½®
â”‚       â”œâ”€â”€ store/         # çŠ¶æ€ç®¡ç†
â”‚       â””â”€â”€ data-provider/ # æ•°æ®è·å–
â”‚
â””â”€â”€ packages/              # å…±äº«åŒ…
    â”œâ”€â”€ api/              # åç«¯å…±äº«ä»£ç 
    â”œâ”€â”€ client/           # å‰ç«¯å…±äº«ç»„ä»¶
    â”œâ”€â”€ data-provider/    # æ•°æ®æä¾›è€…
    â””â”€â”€ data-schemas/     # æ•°æ®æ¨¡å¼
```

---

## ğŸ¯ å…³é”®æ–‡ä»¶å¤¹æ€»ç»“

### åç«¯æ ¸å¿ƒ
1. **`api/server/controllers/`** - å¤„ç† HTTP è¯·æ±‚
2. **`api/server/routes/`** - å®šä¹‰ API è·¯ç”±
3. **`api/server/services/`** - ä¸šåŠ¡é€»è¾‘å®ç°
4. **`api/app/clients/`** - AI å®¢æˆ·ç«¯å®ç°
5. **`api/models/`** - æ•°æ®åº“æ¨¡å‹

### å‰ç«¯æ ¸å¿ƒ
1. **`client/src/components/`** - UI ç»„ä»¶
2. **`client/src/hooks/`** - ä¸šåŠ¡é€»è¾‘ Hooks
3. **`client/src/routes/`** - é¡µé¢è·¯ç”±
4. **`client/src/data-provider/`** - API è°ƒç”¨

### å…±äº«ä»£ç 
1. **`packages/data-schemas/`** - æ•°æ®æ¨¡å‹å®šä¹‰
2. **`packages/data-provider/`** - API å®¢æˆ·ç«¯
3. **`packages/api/`** - åç«¯å…±äº«å·¥å…·
4. **`packages/client/`** - å‰ç«¯å…±äº«ç»„ä»¶

---

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **å‰åç«¯åˆ†ç¦»**: `api/` å’Œ `client/` æ˜¯å®Œå…¨ç‹¬ç«‹çš„é¡¹ç›®
2. **å…±äº«ä»£ç **: `packages/` ä¸­çš„ä»£ç è¢«å‰åç«¯å…±åŒä½¿ç”¨
3. **ç±»å‹å®‰å…¨**: TypeScript ç±»å‹å®šä¹‰åœ¨ `packages/data-schemas/` ä¸­ç»Ÿä¸€ç®¡ç†
4. **é…ç½®ç®¡ç†**: åç«¯é…ç½®åœ¨ `api/config/`ï¼Œåº”ç”¨é…ç½®åœ¨ `librechat.yaml`
5. **æµ‹è¯•åˆ†ç¦»**: åç«¯æµ‹è¯•åœ¨ `api/test/`ï¼Œå‰ç«¯æµ‹è¯•åœ¨ `client/test/`ï¼ŒE2E æµ‹è¯•åœ¨ `e2e/`

